<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Go Fight Map</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Scott Duncombe">
	<!-- Date: 2012-06-29 -->
	<script src="lib/jquery-1.7.2.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/jquery-ui.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/knockout-latest.debug.js" type="text/javascript" charset="utf-8"></script>
	<script src="lib/lib.js" type="text/javascript" charset="utf-8"></script>

	<script src="tests/factories.js" type="text/javascript" charset="utf-8"></script>

	<script src="map.js" type="text/javascript" charset="utf-8"></script>
	
	
</head>
<body>
	<div style="border: 2px solid #ddd; width: 500px; height: 400px;" data-bind="gfMap: map"></div>


<script type="text/javascript" charset="utf-8">
	new gfMap()
	gfMap.map.makeMap(_rows,'location', {
		obj:'map',
		infoContent: function(row) { 
			var content = ''
			for (var i=0; i < _fields.length; i++) {
				var field = _fields[i], value = ''
				switch(field.type) {
					case 'array':
						value = row[field.name].join(', ')
						break;
					case 'location':
						value = row[field.name].address
						break;
					default:
						value = row[field.name]
				}
				content+= '<strong>'+field.name +'</strong>: '+value+'<br />'
			}
			return content
		}
	})
	ko.applyBindings(map)
</script>
</body>
</html>
